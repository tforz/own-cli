(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{45:function(e,t,s){e.exports=s(79)},54:function(e,t,s){},55:function(e,t,s){},76:function(e,t,s){},77:function(e){e.exports=JSON.parse('{"name":"my-app","version":"1.0.0","private":true,"dependencies":{"@babel/core":"7.9.0","@svgr/webpack":"4.3.3","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","@types/better-scroll":"^1.12.2","@types/classnames":"^2.2.10","@types/jest":"^24.0.0","@types/node":"^12.0.0","@types/qs":"^6.9.3","@types/react":"^16.9.0","@types/react-dom":"^16.9.0","@types/react-redux":"^7.1.8","@types/react-router-config":"^5.0.1","@types/react-router-dom":"^5.1.4","@types/react-transition-group":"^4.4.0","@typescript-eslint/eslint-plugin":"^2.10.0","@typescript-eslint/parser":"^2.10.0","axios":"^0.19.2","babel-eslint":"10.1.0","babel-jest":"^24.9.0","babel-loader":"8.1.0","babel-plugin-named-asset-import":"^0.3.6","babel-preset-react-app":"^9.1.2","better-scroll":"^1.15.2","camelcase":"^5.3.1","case-sensitive-paths-webpack-plugin":"2.3.0","classnames":"^2.2.6","cross-env":"^7.0.2","css-loader":"3.4.2","dotenv":"8.2.0","dotenv-expand":"5.1.0","eslint":"^6.6.0","eslint-config-react-app":"^5.2.1","eslint-loader":"3.0.3","eslint-plugin-flowtype":"4.6.0","eslint-plugin-import":"2.20.1","eslint-plugin-jsx-a11y":"6.2.3","eslint-plugin-react":"7.19.0","eslint-plugin-react-hooks":"^1.6.1","file-loader":"4.3.0","fs-extra":"^8.1.0","html-webpack-plugin":"4.0.0-beta.11","http-proxy-middleware":"^1.0.3","identity-obj-proxy":"3.0.0","immer":"^6.0.5","jest":"24.9.0","jest-environment-jsdom-fourteen":"1.0.1","jest-resolve":"24.9.0","jest-watch-typeahead":"0.4.2","jsonp":"^0.2.1","mini-css-extract-plugin":"0.9.0","mitt":"^1.2.0","moment":"^2.27.0","node-sass":"^4.13.1","optimize-css-assets-webpack-plugin":"5.0.3","pnp-webpack-plugin":"1.6.4","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"8.0.1","postcss-preset-env":"6.7.0","postcss-pxtorem":"^5.1.1","postcss-safe-parser":"4.0.1","qs":"^6.9.4","react":"^16.13.1","react-app-polyfill":"^1.0.6","react-dev-utils":"^10.2.1","react-dom":"^16.13.1","react-fastclick":"^3.0.2","react-photo-view":"^0.5.0","react-redux":"^7.2.0","react-router":"^5.1.2","react-router-config":"^5.1.1","react-router-dom":"^5.1.2","react-transition-group":"^4.4.1","redux":"^4.0.5","redux-devtools-extension":"^2.13.8","resolve":"1.15.0","resolve-url-loader":"3.1.1","sass-loader":"8.0.2","sass-resources-loader":"^2.0.3","semver":"6.3.0","style-loader":"0.23.1","terser-webpack-plugin":"2.3.5","ts-pnp":"1.1.6","typescript":"^3.9.5","url-loader":"2.3.0","use-immer":"^0.4.0","vconsole":"^3.3.4","webpack":"4.42.0","webpack-dev-server":"3.10.3","webpack-manifest-plugin":"2.2.0","workbox-webpack-plugin":"4.3.1"},"scripts":{"start":"cross-env REACT_APP_SECRET_API=development node scripts/start.js","build":"node scripts/build.js","build-test":"cross-env REACT_APP_SECRET_API=development GENERATE_SOURCEMAP=false node scripts/build.js","test":"node scripts/test.js","test-eslint":"eslint \'*/**/*.{js,ts,tsx}\' --quiet --fix"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"jest":{"roots":["<rootDir>/src"],"collectCoverageFrom":["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],"setupFiles":["react-app-polyfill/jsdom"],"setupFilesAfterEnv":["<rootDir>/src/setupTests.ts"],"testMatch":["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],"testEnvironment":"jest-environment-jsdom-fourteen","transform":{"^.+\\\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},"transformIgnorePatterns":["[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|ts|tsx)$","^.+\\\\.module\\\\.(css|sass|scss)$"],"modulePaths":[],"moduleNameMapper":{"^react-native$":"react-native-web","^.+\\\\.module\\\\.(css|sass|scss)$":"identity-obj-proxy"},"moduleFileExtensions":["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],"watchPlugins":["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},"babel":{"presets":["react-app"]},"proxy":"https://api.jizhen.cool/"}')},79:function(e,t,s){"use strict";s.r(t);var r=s(0),n=s.n(r),a=s(8),o=s.n(a),c=s(81),i=s(11),u=[{path:"/",exact:!0,component:n.a.lazy((function(){return s.e(3).then(s.bind(null,85))}))},{path:"/login",auth:!0,component:n.a.lazy((function(){return s.e(4).then(s.bind(null,86))}))}],l=s(40),p=(s(54),n.a.memo((function(e){var t="undefined"===typeof e.mask||e.mask;return n.a.createElement("div",{className:"loading",style:{backgroundColor:t?"#0003":"#0000"}},n.a.createElement("div",{className:"loadingContent"},n.a.createElement("div",{className:"chasedot"}),n.a.createElement("div",{className:"chasedot"}),n.a.createElement("div",{className:"chasedot"}),n.a.createElement("div",{className:"chasedot"}),n.a.createElement("div",{className:"chasedot"}),n.a.createElement("div",{className:"chasedot"})))}))),d=s(82),m=s(10),h=s(36),f=s(37),v={show:!1,text:""},b=Object(m.combineReducers)({toast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return Object(f.a)(e,(function(e){switch(t.type){case"toast/show":e.show=!0,e.text=t.payload;break;case"toast/hide":e.show=!1}}))}}),j=Object(m.createStore)(b,Object(h.composeWithDevTools)()),y={show:function(e){return j.dispatch({type:"toast/show",payload:e})},hide:function(){return j.dispatch({type:"toast/hide"})}};s(55);var E,g=r.memo((function(e){var t,s,n=(t=function(e){return e.toast},Object(i.c)(t,s)),a=r.useRef();return r.useEffect((function(){return n.show&&(a.current&&clearTimeout(a.current),a.current=setTimeout((function(){return y.hide()}),2e3)),function(){return a.current&&clearTimeout(a.current)}}),[n.show]),r.createElement(d.a,{timeout:300,in:n.show,unmountOnExit:!0},r.createElement("div",{className:"Toast"},n.text))})),x="https://api.jizhen.cool";!function(e){e.dev="dev",e.test="test",e.pro="pro"}(E||(E={}));var w="development"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SECRET_API?E.pro:E.dev,O={host:""};switch(w){case E.dev:O.host=x;break;case E.test:O.host="https://api.jizhen.cool";break;case E.pro:O.host="https://shizhu.jizhenmed.com/api";break;default:O.host=x}var k=w===E.dev||w===E.test,T=O.host,_=s(5),P=s.n(_),S=s(12),C=s(16),A=s(17),N=s(42),D=s(41),R=s(14),q=s(20),z=s.n(q),I=s(38),W=s.n(I);z.a.interceptors.response.use((function(e){return e.data?e:Promise.reject(e)}),(function(e){return Promise.reject(e.response)}));var U={isSuccess:function(e){return e&&1===e.code},UserApi:new(function(e){Object(N.a)(s,e);var t=Object(D.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(A.a)(s,[{key:"getEnums",value:function(){var e=Object(S.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("/base/enums");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),s}(function(){function e(){Object(C.a)(this,e)}return Object(A.a)(e,[{key:"request",value:function(){var e=Object(S.a)(P.a.mark((function e(t){var s,r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return r=e.sent,e.prev=3,t=Object(R.a)(Object(R.a)({},t),{},{url:T+t.url,headers:Object(R.a)(Object(R.a)({},t.headers),{},{Authorization:"Bearer "+r})}),e.next=7,z()(t);case 7:return s=e.sent,e.abrupt("return",s.data);case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),y.show(e.t0&&(null===(n=e.t0.data)||void 0===n?void 0:n.error)?e.t0.data.error:"\u7f51\u7edc\u9519\u8bef");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(S.a)(P.a.mark((function e(t,s){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",url:t,params:s},e.abrupt("return",this.request(r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(S.a)(P.a.mark((function e(t,s){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",url:t,data:s},e.abrupt("return",this.request(r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"formPost",value:function(e,t){var s={method:"POST",url:e,data:W.a.stringify(t)};return this.request(s)}},{key:"patch",value:function(e,t){var s={method:"PATCH",url:e,data:t};return this.request(s)}},{key:"put",value:function(e,t){var s={method:"PUT",url:e,data:t};return this.request(s)}},{key:"delete",value:function(e,t){var s={method:"DELETE",url:e,data:t};return this.request(s)}}]),e}()))},$=s(39),K=s.n($);s(76);k&&new K.a;var B=function(e){var t=s(77),r=n.a.useState(!0),a=Object(l.a)(r,2),o=a[0],c=a[1],u=Object(i.b)();return n.a.useEffect((function(){U.UserApi.getEnums()}),[]),n.a.useEffect((function(){setTimeout((function(){return c(!1),function(){c(!0)}}),500)}),[]),n.a.useEffect((function(){u({type:"INIT"})})),console.log("version about:",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}),t.version),n.a.createElement("div",{className:"App"},e.children,o&&n.a.createElement(p,null))},H=s(7),L=Object(H.a)({}),F=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e?n.a.createElement(c.d,r,e.map((function(e,r){return n.a.createElement(c.b,{key:e.key||r,path:e.path,exact:e.exact,strict:e.strict,render:function(r){return e.auth||t||"/login"===e.path?n.a.createElement(e.component,Object.assign({},r,s,{route:e})):n.a.createElement(c.a,{to:{pathname:"/login",state:{from:r.location}}})}})}))):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(c.c,{history:L},n.a.createElement(n.a.Suspense,{fallback:n.a.createElement(p,null)},n.a.createElement(i.a,{store:j},n.a.createElement(B,null,F(u,!0)),n.a.createElement(g,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.d7c4e36e.chunk.js.map